type {{{lookup @root/type_names id}}} = enum {
{{#each variants}}
  {{name}}
  {{~#if fields.[1]}}: struct { {{#each fields~}} {{#if @index}}, {{/if}}{{#if name}}{{name}}: {{/if}}{{{lookup @root/type_names type}}}{{/each}} }
  {{~else}}
	  {{~#if fields.[0]}}: {{#with fields.[0]}} {{~#if name~}} struct { {{name}}: {{{lookup @root/type_names type}}} } {{~else~}} {{{lookup @root/type_names type}}} {{~/if}}{{/with}}
    {{~/if}}
  {{/if~}}
  ,
{{/each}}
};
